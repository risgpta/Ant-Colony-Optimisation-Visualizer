(this.webpackJsonpdraw_app=this.webpackJsonpdraw_app||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},15:function(t,e){},17:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(8),c=n.n(o),i=(n(13),n(6)),l=n(3),s=n(2),h=(n(14),function(t,e,n){return Math.sqrt(Math.pow(t[n].x-t[e].x,2)+Math.pow(t[n].y-t[e].y,2))}),u=(n(15),n(0));var f=function(){var t=Object(a.useState)(1),e=Object(s.a)(t,2),n=e[0],r=(e[1],Object(a.useRef)(null)),o=Object(a.useState)([]),c=Object(s.a)(o,2),f=c[0],j=c[1],b=Object(a.useState)([]),p=Object(s.a)(b,2),d=p[0],g=p[1],x=Object(a.useState)([]),v=Object(s.a)(x,2),O=v[0],m=v[1],y=Object(a.useState)(0),M=Object(s.a)(y,2),S=(M[0],M[1],Object(a.useState)(10)),w=Object(s.a)(S,2),C=w[0],T=(w[1],Object(a.useState)(.1)),A=Object(s.a)(T,2),k=(A[0],A[1],Object(a.useState)(new Map)),F=Object(s.a)(k,2),z=F[0],P=F[1],q=Object(a.useState)(0),E=Object(s.a)(q,2),R=E[0],I=E[1],L=Object(a.useState)(null),B=Object(s.a)(L,2),H=B[0],N=B[1],J=Object(a.useState)(!1),_=Object(s.a)(J,2),D=(_[0],_[1]),W=Object(a.useState)(2),X=Object(s.a)(W,2),Y=X[0],G=X[1],K=Object(a.useState)(3),Q=Object(s.a)(K,2),U=Q[0],V=Q[1],Z=Object(a.useState)(.5),$=Object(s.a)(Z,2),tt=$[0],et=$[1],nt="#99ccff",at="10px Arial",rt=parseFloat(1/C),ot=function(t,e){for(var a=0,r=function(r){setTimeout((function(){"red"===t||"green"===t||1===t?it(f[e[r-1]],f[e[r%e.length]],t):5===t?it(f[r-1],f[r%f.length],""):2===t?lt(f[r-1],f[r%f.length]):ct(f[r-1],f[r%f.length])}),a);var o=void 0;o=1===t||99===t||"red"===t||"green"===t?Math.pow(f[e[r%e.length]].x-f[e[r-1]].x,2)+Math.pow(f[e[r%e.length]].y-f[e[r-1]].y,2):Math.pow(f[r%f.length].x-f[r-1].x,2)+Math.pow(f[r%f.length].y-f[r-1].y,2),a+=1===t||2===t?Math.sqrt(o)/1*n:Math.sqrt(o)*n},o=1;o<=e.length;o++)r(o)},ct=function(t,e){for(var a=Math.atan2(e.y-t.y,e.x-t.x),o=1*Math.sin(a),c=1*Math.cos(a),i=t.x,l=t.y,s=e.x,h=e.y,u=Math.sqrt(Math.pow(h-l,2)+Math.pow(s-i,2)),j=0;j<=u;j++)setTimeout((function(){r.current.getContext("2d").fillRect(Math.round(i),Math.round(l),5,5),r.current.getContext("2d").clearRect(Math.round(i-c),Math.round(l-o),5,5);for(var t=0;t<f.length;t++){var e=f[t].x,n=f[t].y,a=r.current.getContext("2d");a.fillStyle=nt,a.fillRect(e,n,5,5),a.font=at,t%2?a.fillText(t+"\ud83c\udf33",e-1,n-1):a.fillText(t+"\ud83c\udf34",e-1,n-1)}i+=c,l+=o}),j*n)},it=function(t,e,a){for(var o=Math.atan2(e.y-t.y,e.x-t.x),c=1,i=Math.sin(o)*c,l=Math.cos(o)*c,s=t.x,h=t.y,u=e.x,f=e.y,j=Math.sqrt(Math.pow(f-h,2)+Math.pow(u-s,2)),b=r.current.getContext("2d"),p=0,g=0;g<d.length;g++)for(var x=0;x<d[g].length;x++)p=Math.max(p,d[g][x]);1===a&&(a=null);b.fillStyle=H,b.globalAlpha=.1,"red"!==a&&"green"!==a||(b.globalAlpha=1,b.fillStyle=a);for(var v=0;v<=j/c;v++)setTimeout((function(){"red"===a||"green"===a?b.fillRect(s,h,6,6):b.fillRect(s,h,3,3),s+=l,h+=i}),v*n)},lt=function(t,e){for(var a=Math.atan2(e.y-t.y,e.x-t.x),o=1*Math.sin(a),c=1*Math.cos(a),i=t.x,l=t.y,s=e.x,h=e.y,u=Math.sqrt(Math.pow(h-l,2)+Math.pow(s-i,2)),f=r.current.getContext("2d"),j=0;j<=u/1;j++)setTimeout((function(){f.clearRect(i,l,3,3),i+=c,l+=o}),j*n)},st=function(t,e,n){for(var a=new Map,r=0,o=0;o<e.length;o++)o!==t&&!0!==O[o][n]&&a.set(r++,o);var c,l=[],u=0,f=Object(i.a)(a);try{for(f.s();!(c=f.n()).done;){var j=Object(s.a)(c.value,2),b=j[0],p=j[1],g=Math.pow(parseFloat(d[t][p]),Y),x=Math.pow(parseFloat(1/h(e,t,p)),U),v=parseFloat(g*x);l.push(v),u=parseFloat(u+l[b])}}catch(C){f.e(C)}finally{f.f()}if(0===l.length)return t;if(0===u)return a.get(parseInt(Math.random()*(l.length-1)));for(var m=0;m<l.length;m++)l[m]=parseFloat(l[m]/u);var y=[];y.push(l[0]);for(var M=1;M<l.length;M++)y.push(l[M]+y[M-1]);for(var S=Math.random()*y[l.length-1],w=0;w<y.length;w++)if(S<y[w])return a.get(w);return a.get(l.length-1)},ht=function(t,e,a,r,o,c,i){for(var s=st(t,a,r);s!==t;){console.log(s),c.push(s),i+=h(a,t,s);var u=Object(l.a)(O);u[t][r]=!0,m(u);var j=Object(l.a)(d);j[t][s]+=rt,j[s][t]+=rt,g(j),e+=h(a,t,s)*n,s=st(t=s,a,r)}console.log("arr",c),ot(1,c),c.push(r%f.length),i+=h(a,t,r%f.length);var b=z,p=[];p.push(r),p.push(c),p.push(i),p.push(e),b.set(r,p),P(b);var x=Object(l.a)(d);x[t][r%f.length]+=rt,x[r%f.length][t]+=rt,g(x)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{style:{margin:"10px",fontSize:"16px",color:"blue"},children:"Travelling Salesman Problem using - Ant Colony Optimisation (ACO)"}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px"},children:'10 Ants explore around with each click of "Start ACO..." and find the better path in every iteration!!'}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px",fontWeight:"bold"},children:"This NP Hard Problem uses heuristic approach to find better approximate solution"}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px"},children:"Probability for an ant to select a city = ((phermone amount deposited on a edge)^ALPHA*(distance of that edge)^BETA)/Sum of the Numerator factor for all edges(in path of ant)"}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(u.jsxs)("button",{onClick:function(){return function(){if(0!==f.length){for(var t=Object(l.a)(O),e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++)t[e][n]=!1;m(t);for(var a=Object(l.a)(d),r=0;r<d.length;r++)for(var o=0;o<d.length;o++)a[r][o]*=tt;for(var c=setTimeout(";"),i=0;i<c;i++)clearTimeout(i);g(a),I(R+1),D(!1),N("#"+Math.floor(16777215*Math.random()).toString(16));for(var s=0;s<C;s++){var h=[];h.push(s%f.length),ht(s%f.length,0,f,s,0,h,0)}}}()},children:["Start ACO ",R+1," Iteration"]}),Object(u.jsxs)("div",{children:["ALPHA",Object(u.jsx)("input",{type:"number",value:Y,onChange:function(t){G(t.target.value)},min:"1",max:"50"})]}),Object(u.jsxs)("div",{children:["BETA",Object(u.jsx)("input",{type:"number",value:U,onChange:function(t){V(t.target.value)},min:"1",max:"50"})]}),Object(u.jsxs)("div",{children:["Evaporation rate of phermone(0-100)(in %)",Object(u.jsx)("input",{type:"number",value:100*tt,onChange:function(t){et(t.target.value/100)},min:"1",max:"100"})]}),Object(u.jsx)("button",{onClick:function(){return ot(5,f)},children:"Make Lines"}),Object(u.jsx)("button",{onClick:function(){return function(){if(0!==Object(l.a)(z).length){for(var t=setTimeout(";"),e=0;e<t;e++)clearTimeout(e);if(0!==z.length){var n,a,r=Math.min(),o=Object(i.a)(z);try{for(o.s();!(a=o.n()).done;){var c=Object(s.a)(a.value,2),h=c[0],u=c[1];u[2]<r&&(r=u[2],n=h)}}catch(f){o.e(f)}finally{o.f()}D(!0),ot("green",z.get(n)[1])}}}()},children:"Show min"}),Object(u.jsx)("button",{onClick:function(){return function(){if(0!==Object(l.a)(z).length){for(var t=setTimeout(";"),e=0;e<t;e++)clearTimeout(e);if(0!==z.length){var n,a,r=Math.max(),o=Object(i.a)(z);try{for(o.s();!(a=o.n()).done;){var c=Object(s.a)(a.value,2),h=c[0],u=c[1];u[2]>r&&(r=u[2],n=h)}}catch(f){o.e(f)}finally{o.f()}D(!0),ot("red",z.get(n)[1])}}}()},children:"Show max"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("canvas",{ref:r,width:"1800px",height:"625px",style:{border:"2px solid black",backgroundColor:"black"},onClick:function(t){return function(t){var e=t.nativeEvent.offsetX,n=t.nativeEvent.offsetY,a=r.current.getContext("2d");a.fillStyle=nt,a.font=at,a.fillText(f.length+"\u26fa\ufe0f",e-1,n-1);var o=f;o.push({x:e,y:n}),j(o);for(var c=[],i=0;i<C;i++)c.push(!1);m([].concat(Object(l.a)(O),[c]));for(var s=Object(l.a)(d),h=0;h<d.length;h++)s[h].push(.05);for(var u=[],b=0;b<=d.length;b++)u.push(.05);s.push(u),g(s)}(t)}}),Object(u.jsxs)("div",{children:["Iteration: ",R,Object(l.a)(z).map((function(t){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{style:{margin:"10px",fontSize:"12px"},children:["\ud83d\udc1c ",t[1][0]+1," : Tour: |"]}),t[1][1].map((function(t){return Object(u.jsx)("span",{style:{margin:"10px",fontSize:"12px"},children:t})})),Object(u.jsxs)("span",{style:{margin:"10px",fontSize:"12px"},children:["| distance covered: ",t[1][2]," units"]})]})})}))]}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px",color:"red"},children:"* Each iteration is shown by different color."}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px",color:"green"},children:"* Once all the tour distances covered are equal, we can't get a more better solution"})]})]})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),o(t),c(t)}))};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),j()}},[[17,1,2]]]);
//# sourceMappingURL=main.35d1f9ca.chunk.js.map