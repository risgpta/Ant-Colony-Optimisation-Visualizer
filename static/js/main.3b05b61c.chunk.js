(this.webpackJsonpdraw_app=this.webpackJsonpdraw_app||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},15:function(t,e){},17:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(8),i=n.n(o),c=(n(13),n(6)),l=n(3),s=n(2),h=(n(14),function(t,e,n){return Math.sqrt(Math.pow(t[n].x-t[e].x,2)+Math.pow(t[n].y-t[e].y,2))}),u=(n(15),n(0));var f=function(){var t=Object(a.useState)(1),e=Object(s.a)(t,2),n=e[0],r=(e[1],Object(a.useRef)(null)),o=Object(a.useState)([]),i=Object(s.a)(o,2),f=i[0],p=i[1],j=Object(a.useState)([]),g=Object(s.a)(j,2),x=g[0],b=g[1],d=Object(a.useState)([]),O=Object(s.a)(d,2),v=O[0],m=O[1],y=Object(a.useState)([]),M=Object(s.a)(y,2),S=M[0],w=M[1],C=Object(a.useState)(0),T=Object(s.a)(C,2),A=(T[0],T[1],Object(a.useState)(10)),k=Object(s.a)(A,2),z=k[0],F=(k[1],Object(a.useState)(.1)),P=Object(s.a)(F,2),q=(P[0],P[1],Object(a.useState)(new Map)),E=Object(s.a)(q,2),R=E[0],I=E[1],L=Object(a.useState)(0),W=Object(s.a)(L,2),B=W[0],H=W[1],N=Object(a.useState)(null),J=Object(s.a)(N,2),_=J[0],D=J[1],X=Object(a.useState)(!1),Y=Object(s.a)(X,2),G=(Y[0],Y[1]),K=Object(a.useState)(2),Q=Object(s.a)(K,2),U=Q[0],V=Q[1],Z=Object(a.useState)(3),$=Object(s.a)(Z,2),tt=$[0],et=$[1],nt=Object(a.useState)(.5),at=Object(s.a)(nt,2),rt=at[0],ot=at[1],it="#99ccff",ct="10px Arial",lt=parseFloat(1/z),st=function(t,e){for(var a=0,r=function(r){setTimeout((function(){"red"===t||"green"===t||1===t?ut(f[e[r-1]],f[e[r%e.length]],t):5===t?ut(f[r-1],f[r%f.length],""):2===t?ft(f[r-1],f[r%f.length]):ht(f[r-1],f[r%f.length])}),a);var o=void 0;o=1===t||99===t||"red"===t||"green"===t?Math.pow(f[e[r%e.length]].x-f[e[r-1]].x,2)+Math.pow(f[e[r%e.length]].y-f[e[r-1]].y,2):Math.pow(f[r%f.length].x-f[r-1].x,2)+Math.pow(f[r%f.length].y-f[r-1].y,2),a+=1===t||2===t?Math.sqrt(o)/1*n:Math.sqrt(o)*n},o=1;o<=e.length;o++)r(o)},ht=function(t,e){for(var a=Math.atan2(e.y-t.y,e.x-t.x),o=1*Math.sin(a),i=1*Math.cos(a),c=t.x,l=t.y,s=e.x,h=e.y,u=Math.sqrt(Math.pow(h-l,2)+Math.pow(s-c,2)),p=0;p<=u;p++)setTimeout((function(){r.current.getContext("2d").fillRect(Math.round(c),Math.round(l),5,5),r.current.getContext("2d").clearRect(Math.round(c-i),Math.round(l-o),5,5);for(var t=0;t<f.length;t++){var e=f[t].x,n=f[t].y,a=r.current.getContext("2d");a.fillStyle=it,a.fillRect(e,n,5,5),a.font=ct,t%2?a.fillText(t+"\ud83c\udf33",e-1,n-1):a.fillText(t+"\ud83c\udf34",e-1,n-1)}c+=i,l+=o}),p*n)},ut=function(t,e,a){for(var o=Math.atan2(e.y-t.y,e.x-t.x),i=1,c=Math.sin(o)*i,l=Math.cos(o)*i,s=t.x,h=t.y,u=e.x,f=e.y,p=Math.sqrt(Math.pow(f-h,2)+Math.pow(u-s,2)),j=r.current.getContext("2d"),g=0,b=0;b<x.length;b++)for(var d=0;d<x[b].length;d++)g=Math.max(g,x[b][d]);1===a&&(a=null);j.fillStyle=_,j.globalAlpha=.1,"red"!==a&&"green"!==a||(j.globalAlpha=1,j.fillStyle=a);for(var O=0;O<=p/i;O++)setTimeout((function(){"red"===a||"green"===a?j.fillRect(s,h,6,6):j.fillRect(s,h,3,3),s+=l,h+=c}),O*n)},ft=function(t,e){for(var a=Math.atan2(e.y-t.y,e.x-t.x),o=1*Math.sin(a),i=1*Math.cos(a),c=t.x,l=t.y,s=e.x,h=e.y,u=Math.sqrt(Math.pow(h-l,2)+Math.pow(s-c,2)),f=r.current.getContext("2d"),p=0;p<=u/1;p++)setTimeout((function(){f.clearRect(c,l,3,3),c+=i,l+=o}),p*n)},pt=function(t,e,n){for(var a=new Map,r=0,o=0;o<e.length;o++)o!==t&&!0!==S[o][n]&&a.set(r++,o);var i,l=[],u=0,f=Object(c.a)(a);try{for(f.s();!(i=f.n()).done;){var p=Object(s.a)(i.value,2),j=p[0],g=p[1],b=Math.pow(parseFloat(x[t][g]),U),d=Math.pow(parseFloat(1/h(e,t,g)),tt),O=parseFloat(b*d);l.push(O),u=parseFloat(u+l[j])}}catch(C){f.e(C)}finally{f.f()}if(0===l.length)return t;if(0===u)return a.get(parseInt(Math.random()*(l.length-1)));for(var v=0;v<l.length;v++)l[v]=parseFloat(l[v]/u);var m=[];m.push(l[0]);for(var y=1;y<l.length;y++)m.push(l[y]+m[y-1]);for(var M=Math.random()*m[l.length-1],w=0;w<m.length;w++)if(M<m[w])return a.get(w);return a.get(l.length-1)},jt=function(t,e,a,r,o,i,c){for(var s=pt(t,a,r);s!==t;){console.log(s),i.push(s),c+=h(a,t,s);var u=Object(l.a)(S);u[t][r]=!0,w(u);var p=Object(l.a)(x);p[t][s]+=lt,p[s][t]+=lt,m(p),e+=h(a,t,s)*n,s=pt(t=s,a,r)}console.log("arr",i),st(1,i),i.push(r%f.length),c+=h(a,t,r%f.length);var j=R,g=[];g.push(r),g.push(i),g.push(c),g.push(e),j.set(r,g),I(j);var b=Object(l.a)(x);b[t][r%f.length]+=lt,b[r%f.length][t]+=lt,m(b)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{style:{margin:"10px",fontSize:"16px",color:"blue"},children:"Travelling Salesman Problem using - Ant Colony Optimisation (ACO)"}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px"},children:'10 Ants explore around with each click of "Start ACO..." and find the better path in every iteration!!'}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px",fontWeight:"bold"},children:"This NP Hard Problem uses heuristic approach to find better approximate solution"}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px"},children:"Probability for an ant to select a city = ((phermone amount deposited on a edge)^ALPHA*(distance of that edge)^BETA)/Sum of the Numerator factor for all edges(in path of ant)"}),Object(u.jsxs)("div",{style:window.innerWidth>768?{display:"flex",justifyContent:"center",margin:"10px",fontSize:"10px"}:{justifyContent:"center",margin:"10px",fontSize:"10px"},children:[Object(u.jsxs)("button",{style:{margin:"10px"},onClick:function(){return function(){if(0!==f.length){for(var t=Object(l.a)(S),e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++)t[e][n]=!1;w(t);for(var a=Object(l.a)(v),r=0;r<x.length;r++)for(var o=0;o<x.length;o++)a[r][o]*=rt;for(var i=setTimeout(";"),c=0;c<i;c++)clearTimeout(c);b(a),m(a),H(B+1),G(!1),D("#"+Math.floor(16777215*Math.random()).toString(16));for(var s=0;s<z;s++){var h=[];h.push(s%f.length),jt(s%f.length,0,f,s,0,h,0)}}}()},children:["Start ACO ",B+1," Iteration"]}),Object(u.jsxs)("div",{style:{margin:"10px"},children:[Object(u.jsx)("span",{style:{margin:"10px"},children:" ALPHA "}),Object(u.jsx)("input",{type:"number",value:U,onChange:function(t){V(t.target.value)},min:"1",max:"50"})]}),Object(u.jsxs)("div",{style:{margin:"10px"},children:[Object(u.jsx)("span",{style:{margin:"10px"},children:" BETA "}),Object(u.jsx)("input",{type:"number",value:tt,onChange:function(t){et(t.target.value)},min:"1",max:"50"})]}),Object(u.jsxs)("div",{style:{margin:"10px"},children:[Object(u.jsx)("span",{style:{margin:"10px"},children:"Evaporation rate of phermone(0-100)(in %)"}),Object(u.jsx)("input",{type:"number",value:100*rt,onChange:function(t){ot(t.target.value/100)},min:"1",max:"100"})]}),Object(u.jsx)("button",{style:{margin:"10px"},onClick:function(){return st(5,f)},children:"Make Lines"}),Object(u.jsx)("button",{style:{margin:"10px"},onClick:function(){return function(){if(0!==Object(l.a)(R).length){for(var t=setTimeout(";"),e=0;e<t;e++)clearTimeout(e);if(0!==R.length){var n,a,r=Math.min(),o=Object(c.a)(R);try{for(o.s();!(a=o.n()).done;){var i=Object(s.a)(a.value,2),h=i[0],u=i[1];u[2]<r&&(r=u[2],n=h)}}catch(f){o.e(f)}finally{o.f()}G(!0),st("green",R.get(n)[1])}}}()},children:"Show min"}),Object(u.jsx)("button",{style:{margin:"10px"},onClick:function(){return function(){if(0!==Object(l.a)(R).length){for(var t=setTimeout(";"),e=0;e<t;e++)clearTimeout(e);if(0!==R.length){var n,a,r=Math.max(),o=Object(c.a)(R);try{for(o.s();!(a=o.n()).done;){var i=Object(s.a)(a.value,2),h=i[0],u=i[1];u[2]>r&&(r=u[2],n=h)}}catch(f){o.e(f)}finally{o.f()}G(!0),st("red",R.get(n)[1])}}}()},children:"Show max"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("canvas",{ref:r,width:window.innerWidth>768?window.innerWidth:"400px",height:window.innerWidth>768?window.innerHeight/2:"500px",style:{border:"2px solid black",backgroundColor:"black"},onClick:function(t){return function(t){console.log(t);var e=t.nativeEvent.offsetX,n=t.nativeEvent.offsetY;console.log(e,n);var a=r.current.getContext("2d");a.fillStyle=it,a.font=ct,a.fillText(f.length+"\u26fa\ufe0f",e-1,n-1);var o=f;o.push({x:e,y:n}),p(o);for(var i=[],c=0;c<z;c++)i.push(!1);w([].concat(Object(l.a)(S),[i]));for(var s=Object(l.a)(x),h=0;h<x.length;h++)s[h].push(.05);for(var u=[],j=0;j<=x.length;j++)u.push(.05);s.push(u),b(s),m(s)}(t)}}),Object(u.jsxs)("div",{children:["Iteration: ",B,Object(l.a)(R).map((function(t){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{style:{margin:"10px",fontSize:"12px"},children:["\ud83d\udc1c ",t[1][0]+1," : Tour: |"]}),t[1][1].map((function(t){return Object(u.jsx)("span",{style:{margin:"10px",fontSize:"12px"},children:t})})),Object(u.jsxs)("span",{style:{margin:"10px",fontSize:"12px"},children:["| distance covered: ",t[1][2]," units"]})]})})}))]}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px",color:"red"},children:"* Each iteration is shown by different color."}),Object(u.jsx)("div",{style:{margin:"10px",fontSize:"12px",color:"green"},children:"* Once all the tour distances covered are equal, we can't get a more better solution"})]})]})},p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)}))};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.3b05b61c.chunk.js.map